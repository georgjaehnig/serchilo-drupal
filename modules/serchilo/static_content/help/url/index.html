<!--
title = Shortcut URLs
-->

<p>A shortcut URL may contain placeholders. This page is about them.</p>

<h3 id="example">Example</h3>

<p>Consider for instance the URL of the <a href="/shortcut/1">Google shortcut</a>:</p>

<blockquote><code>https://www.google.com/search?hl={language}&q={s:query}&ie=utf-8</code></blockquote>

<p>It contains 2 placeholders: <code>{s:query}</code> and <code>{language}</code>.</p>

<h3 id="placeholders">Placeholders</h3>

<table class="table table-bordered">
  <thead>
    <tr>
      <th>Example</th>
      <th>Will be replaced with</th>
      <th>Available</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td colspan="3">
        <h4>Placeholders for arguments</h4>
      </td>
    </tr>
    <tr>
      <td><code>{%foobar}</code></td>
      <td><p>argument from query.</p> 
        <p>If there is more than one argument placeholder, their order in URL also defines the expected order in the shortcut query.</p></td>
      <td>always</td>
    </tr>
    <tr>
      <td><code>{%Datum|type=date|output=Y-m-d}</code></td>
      <td><p>argument from query, with a specified type</p> 
        <p>The <code>date</code> type expects a date given in the argument.</p>
        It will even translate fuzzy entries:
          <ul>
            <li><code>7.6.</code> → 2015-06-07 (assumes German format)</li> 
            <li><code>7/6</code> → 2015-07-06 (assumes American format)</li> 
            <li><code>7</code> → 2015-06-07 (assumes current month &amp; year)</li> 
            <li><code>1</code> → 2015-07-01 (enforced future date: increases month and even year if computed date would be in past otherwise)</li> 
            <li><code>+10</code> → today plus 10 days</li> 
            <li><code>-5</code> → today minus 5 days</li> 
          </ul>
          Optional attribute <code>output</code> defines the output format which must be based on PHP's <a href="http://php.net/manual/function.date.php">date() format</a>. Default is <code>Y-m-d</code>.
        </td>
      <td>always</td>
    </tr>
    <tr>
      <td colspan="3">
        <h4>Placeholders for variables</h4>
      </td>
    </tr>
    <tr>
      <td><code>{$language}</code></td>
      <td>current language namespace</td>
      <td>always</td>
    </tr>
    <tr>
      <td><code>{$user:name}</code></td>
      <td>name of current user</td>
      <td>only when calling via [site:url]u/[username]</td>
    </tr>
    <tr>
      <td><code>{$now|output=Y-m-d}</code></td>
      <td>current date and time, attribute <code>output</code> defines the output format which must be based on PHP's <a href="http://php.net/manual/function.date.php">date() format</a>. Default is <code>Y-m-d</code>.</td>
      <td>always</td>
    </tr>
  </tbody>

</table>

<h3 id="input_encoding">Input encoding</h3>
<p>When adding or editing a shortcut, an input encoding can be selected. It defines, in which way the user arguments shall be encoded before they replace the placeholders <code>{s:foobar}</code>. Defaults to UTF-8.</p>

<table class="table table-bordered">
  <thead>
    <tr>
      <th>Input encoding</th>
      <th>Passed through functions</th>
      <th>Example input</th>
      <th>Example output</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>UTF-8</td>
      <td rowspan="2"><a href="http://www.php.net/manual/function.mb-convert-encoding.php">mb_convert_encoding()</a> → <a href="http://www.php.net/manual/function.rawurlencode.php">rawurlencode()</a></td>
      <td rowspan="2">foo ä bar/</td>
      <td>foo%20ä%20bar%2F</td>
    </tr>

    <tr>
      <td>ISO-8859-1</td>
      <td>foo%20%E4%20bar%2F</td>
    </tr>

    <tr>
      <td>none</td>
      <td>–</td>
      <td>http://example.com/</td>
      <td>http://example.com/</td>
    </tr>

  </tbody>

</table>
